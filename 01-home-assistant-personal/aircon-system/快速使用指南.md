# ðŸš€ ç©ºèª¿è¨­å‚™é€šçŸ¥ç³»çµ± - å¿«é€Ÿä½¿ç”¨æŒ‡å—

## ðŸ“‹ ç›£æŽ§è¨­å‚™
- ðŸŒ«ï¸ åŠ æ¿•å™¨ (`humidifier.rdi_640hhchu_shi_ji`)
- ðŸŒªï¸ å…¨ç†±äº¤æ›å™¨ (`fan.kpi_253hwquan_re_jiao_huan_qi_air_speed`)
- â„ï¸ å®¢å»³å†·æ°£ (`climate.ke_ting_leng_qi`)
- â„ï¸ ä¸»è‡¥å†·æ°£ (`climate.zhu_wo_leng_qi`)
- â„ï¸ æ¬¡è‡¥å†·æ°£ (`climate.ci_wo_leng_qi`)

## ðŸ”” é€šçŸ¥æ–¹å¼
- **NotifyHelper** - Home Assistant å…§å»ºé€šçŸ¥
- **Synology Chat** - ç¾¤æš‰èŠå¤©å®¤
- **Telegram** - Telegram Bot

---

## âš¡ å¿«é€Ÿå®‰è£æ­¥é©Ÿ

### 1ï¸âƒ£ å°Žå…¥ Node-RED æµç¨‹
1. æ‰“é–‹ Node-RED ç·¨è¼¯å™¨ (`http://æ¨¹èŽ“æ´¾IP:1880`)
2. é»žæ“Šå³ä¸Šè§’é¸å–® â†’ å°Žå…¥
3. é¸æ“‡ `complete-aircon-flow.json` æ–‡ä»¶
4. é»žæ“Šã€Œå°Žå…¥ã€

### 2ï¸âƒ£ é…ç½® Home Assistant é€£æŽ¥
1. é›™æ“Šä»»ä¸€å€‹ç›£æŽ§ç¯€é»ž
2. é»žæ“Šã€ŒServerã€æ—çš„é‰›ç­†åœ–ç¤º
3. å¡«å…¥é€£æŽ¥è³‡è¨Šï¼š
   - **Base URL**: `http://localhost:8123` (å¦‚æžœåœ¨åŒä¸€å°æ¨¹èŽ“æ´¾)
   - **Access Token**: å¾ž HA ç”¨æˆ¶è¨­å®šä¸­ç”Ÿæˆ

### 3ï¸âƒ£ é…ç½®é€šçŸ¥æœå‹™

#### ðŸ”§ Telegram è¨­å®š
1. èˆ‡ @BotFather å°è©±å‰µå»º Bot
2. ç²å– Bot Token
3. é›™æ“Šã€ŒTelegram ç™¼é€ã€ç¯€é»ž
4. é»žæ“Šã€ŒBotã€æ—çš„é‰›ç­†åœ–ç¤º
5. è¼¸å…¥ Bot Token

#### ðŸ”§ Synology Chat è¨­å®š
1. åœ¨ Synology Chat ä¸­å‰µå»º Incoming Webhook
2. é›™æ“Šã€ŒSynology Chat ç™¼é€ã€ç¯€é»ž
3. å°‡ URL æ¬„ä½æ›¿æ›ç‚ºæ‚¨çš„ Webhook URL

#### ðŸ”§ NotifyHelper è¨­å®š
- é€šå¸¸ç„¡éœ€é¡å¤–è¨­å®š
- ç¢ºä¿ Home Assistant ä¸­æœ‰ `notify.notify` æœå‹™

### 4ï¸âƒ£ æ¸¬è©¦ç³»çµ±
1. é»žæ“Šã€Œæ‰‹å‹•æ¸¬è©¦ã€ç¯€é»žå·¦å´çš„æŒ‰éˆ•
2. æª¢æŸ¥ã€Œé™¤éŒ¯ã€é¢æ¿çš„è¼¸å‡º
3. ç¢ºèªå„é€šçŸ¥å¹³å°æ”¶åˆ°æ¸¬è©¦è¨Šæ¯

### 5ï¸âƒ£ éƒ¨ç½²æµç¨‹
1. é»žæ“Šå³ä¸Šè§’çš„ã€Œéƒ¨ç½²ã€æŒ‰éˆ•
2. ç³»çµ±é–‹å§‹ç›£æŽ§è¨­å‚™ç‹€æ…‹

---

## ðŸ“± è¨Šæ¯ç¯„ä¾‹

ç•¶è¨­å‚™ç‹€æ…‹è®ŠåŒ–æ™‚ï¼Œæ‚¨æœƒæ”¶åˆ°é¡žä¼¼é€™æ¨£çš„é€šçŸ¥ï¼š

```
â„ï¸ å®¢å»³å†·æ°£å·²å†·å»æ¨¡å¼
ðŸ“ ä½ç½®ï¼šå®¢å»³
ðŸ• æ™‚é–“ï¼š2024/01/15 14:30:25
```

---

## ðŸ”§ å¸¸è¦‹å•é¡Œ

**Q: æ²’æœ‰æ”¶åˆ°é€šçŸ¥ï¼Ÿ**
- æª¢æŸ¥ Home Assistant é€£æŽ¥æ˜¯å¦æ­£å¸¸
- ç¢ºèªè¨­å‚™å¯¦é«” ID æ˜¯å¦æ­£ç¢º
- æŸ¥çœ‹ Node-RED é™¤éŒ¯é¢æ¿

**Q: Telegram é€šçŸ¥å¤±æ•—ï¼Ÿ**
- ç¢ºèª Bot Token æ­£ç¢º
- ç¢ºèª Chat ID æ­£ç¢º
- æª¢æŸ¥ç¶²è·¯é€£æŽ¥

**Q: æ”¶åˆ°é‡è¤‡é€šçŸ¥ï¼Ÿ**
- ç³»çµ±æœ‰é˜²é‡è¤‡æ©Ÿåˆ¶ï¼Œå¦‚æžœä»æœ‰å•é¡Œè«‹æª¢æŸ¥æµç¨‹é‚è¼¯

---

## ðŸŽ¯ é€²éšŽåŠŸèƒ½

### è‡ªå®šç¾©è¨­å‚™åç¨±
åœ¨ã€Œç‹€æ…‹è™•ç†å™¨ã€ç¯€é»žä¸­ä¿®æ”¹ `deviceNames` å°è±¡ï¼š

```javascript
const deviceNames = {
    'climate.ke_ting_leng_qi': 'å®¢å»³å†·æ°£',  // ä¿®æ”¹é€™è£¡
    // ... å…¶ä»–è¨­å‚™
};
```

### ä¿®æ”¹é€šçŸ¥å…§å®¹
åœ¨ã€Œç‹€æ…‹è™•ç†å™¨ã€ç¯€é»žä¸­ä¿®æ”¹ `fullMessage`ï¼š

```javascript
fullMessage: `${statusIcon} ${deviceName}å·²${stateName}\\nðŸ“ ä½ç½®ï¼š${location}\\nðŸ• æ™‚é–“ï¼š${timestamp}`
```

### æ·»åŠ éœéŸ³æ™‚é–“
åœ¨ã€Œç‹€æ…‹è™•ç†å™¨ã€ç¯€é»žé–‹é ­æ·»åŠ ï¼š

```javascript
// æª¢æŸ¥éœéŸ³æ™‚é–“ (23:00-07:00)
const now = new Date();
const hour = now.getHours();
if (hour >= 23 || hour < 7) {
    return null; // éœéŸ³æ™‚é–“ä¸ç™¼é€é€šçŸ¥
}
```

---

## ðŸ“ž éœ€è¦å¹«åŠ©ï¼Ÿ

1. æª¢æŸ¥ Node-RED é™¤éŒ¯é¢æ¿
2. æŸ¥çœ‹ Home Assistant æ—¥èªŒ
3. ç¢ºèªç¶²è·¯é€£æŽ¥æ­£å¸¸
4. åƒè€ƒå®Œæ•´èªªæ˜Žæ–‡æª”ï¼š`README-aircon-notifications.md`

---

**ðŸŽ‰ äº«å—æ‚¨çš„æ™ºèƒ½å®¶å±…é€šçŸ¥ç³»çµ±ï¼**
